!function(e){e.pagescroller={defaults:{selector:"body",anchor_top:null,margin_top:0,margin_left:0,easing:"swing",speed:.8},is_msie6:!e.support.style&&"undefined"==typeof document.documentElement.style.maxHeight,is_webkit:!document.uniqueID&&!window.opera&&!window.sidebar&&window.localStorage&&"undefined"==typeof window.orientation,is_sp:navigator.userAgent.indexOf("iPhone")>0&&-1==navigator.userAgent.indexOf("iPad")||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,uri:(location.protocol+"//"+location.hostname+"/"+location.pathname.replace(/^\//,"")+location.search).toLowerCase()},e.pagescroller.init=function(t){t=e.extend(this.defaults,t);var o='a[href*="#"]';null!==t.anchor_top&&(o+=':not([href$="#"])'),e(o,t.selector).each(function(){var o=(this.protocol+"//"+this.hostname+"/"+this.pathname.replace(/^\//,"")+this.search).toLowerCase();if(this.uri!=o){var n=null;n=this.hash?this.hash=="#"+t.anchor_top?"body":this.hash:"body",e(this).click(function(){return e.pagescroller.go(n,t),!1})}})},e.pagescroller.getScrollDom=function(){return e("scrollingElement"in document?document.scrollingElement.tagName:-1!==navigator.userAgent.indexOf("WebKit")?"body":"html")},e.pagescroller.go=function(t,o,n){if(t){o=e.extend(this.defaults,o);var i=e(t);if(0!==i.length){var a=e(window),r=i.offset(),l=r.top-o.margin_top,s=r.left-o.margin_left;0>l&&(l=0),0>s&&(s=0);var c;if("body"==t)c="top",l=0,s=0;else{var a=e(window);c=l>a.scrollTop()?"down":"up";var h=e(document),d=h.height(),u=h.width();o.is_msie6&&d>document.body.clientHeight&&(d=document.documentElement.clientHeight);var g=d-a.height();l>g&&(l=g),o.is_msie6&&u>document.body.clientWidth&&(u=document.documentElement.clientWidth);var m=u-a.width();s>m&&(s=m)}var p=p=this.getScrollDom(),f=Math.ceil(Math.sqrt(Math.pow(Math.abs(p.scrollTop()-l),2)+Math.pow(Math.abs(p.scrollLeft()-s),2))),w={scrollLeft:s,scrollTop:l};this.is_sp&&(w={scrollTop:l}),p.animate(w,Math.ceil(f*o.speed),o.easing,function(){e.isFunction(n)&&n()})}}}}(jQuery);

